/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function v(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function $(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=mb++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var Ja=function(a,b){b=b.split("u").join("");this.r=
RegExp(a,b)};Ja.__name__=!0;Ja.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m}};var Q=function(){};Q.__name__=!0;Q.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};Q.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};Q.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};var ia=
function(){};ia.__name__=!0;var w=function(){this._flags=0;this.owner=this.next=null};w.__name__=!0;w.__interfaces__=[ia];w.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null}};var ba=function(){w.call(this);var a=q.root.addChild((new T).add((new ja(16777215,q._platform.getStage().get_width(),q._platform.getStage().get_height())).setXY(0,
0)).add(this));this._mesh=Ka.buildRectangle(600,400);var b=new qa;this._view=new La(b);a.addChild((new T).add(b));this._mesh.insertVertex(550,50);this._mesh.insertConstraintSegment(70,300,530,320);this._mesh.insertConstraintShape([50,50,100,50,100,50,100,100,100,100,50,100,50,100,50,50,20,50,130,100]);this._object=new aa;this._object.set_coordinates([-50,0,50,0,0,-50,0,50,-30,-30,30,30,30,-30,-30,30]);this._mesh.insertObject(this._object);this._object.set_x(400);this._object.set_y(200);this._object.set_scaleX(2);
this._object.set_scaleY(2)};ba.__name__=!0;ba.main=function(){q.init();new ba};ba.__super__=w;ba.prototype=v(w.prototype,{get_name:function(){return"Main_0"},onUpdate:function(a){w.prototype.onUpdate.call(this,a);a=this._object;a.set_rotation(a.get_rotation()+0.05);this._mesh.updateObjects();this._view.drawMesh(this._mesh,!0)}});var Ma=function(){};Ma.__name__=!0;Math.__name__=!0;var ka=function(){};ka.__name__=!0;ka.field=function(a,b){try{return a[b]}catch(c){return null}};var R=function(){};R.__name__=
!0;R.string=function(a){return X.__string_rec(a,"")};R["int"]=function(a){return a|0};R.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==Q.cca(a,1)||88==Q.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};var T=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};T.__name__=!0;T.__interfaces__=[ia];T.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=
this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=
this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();
this.disposeChildren()}};var Na=function(){};Na.__name__=!0;var db=function(){};db.__name__=!0;var ca=function(){};ca.__name__=!0;ca.__interfaces__=[db];ca.prototype={init:function(){var a=this;m.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new da(b);this._pointer=new A;this._mouse=new ra(this._pointer,b);this._renderer=this.createRenderer(b);
this.mainLoop=new ea;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,e,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(f,e);break;case "mouseup":a._mouse.submitUp(f,
e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,e="msMaxTouchPoints"in window.navigator&&
1<window.navigator.msMaxTouchPoints;if(f||e){var g=new sa(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g;e=function(b){var c;c=f?b.changedTouches:[b];var e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();m.SHOULD_HIDE_MOBILE_BROWSER&&m.hideMobileBrowser();for(b=0;b<c.length;){var h=c[b];++b;var i=a.getX(h,e),j=a.getY(h,e);g.submitDown((f?h.identifier:h.pointerId)|0,i,j)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();
for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),j=a.getY(h,e),g.submitMove((f?h.identifier:h.pointerId)|0,i,j);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)h=c[b],++b,i=a.getX(h,e),j=a.getY(h,e),g.submitUp((f?h.identifier:h.pointerId)|0,i,j)}};f?(b.addEventListener("touchstart",e,!1),b.addEventListener("touchmove",e,!1),b.addEventListener("touchend",e,!1),b.addEventListener("touchcancel",e,!1)):(b.addEventListener("MSPointerDown",e,!1),b.addEventListener("MSPointerMove",
e,!1),b.addEventListener("MSPointerUp",e,!1))}else this._touch=new Oa;var i=window.onerror;window.onerror=function(a,b,c){q.uncaughtError.emit(a);return null!=i?i(a,b,c):!1};var o=m.loadExtension("hidden",window.document);null!=o.value?(e=function(){q.hidden.set__(ka.field(window.document,o.field))},e(null),window.document.addEventListener(o.prefix+"visibilitychange",e,!1)):(e=function(a){q.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",e,!1),window.addEventListener("pagehide",
e,!1));q.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var j=m.loadExtension("requestAnimationFrame").value;if(null!=j){var h=window.performance,n=null!=h&&m.polyfill("now",h);n?this._lastUpdate=h.now():null;var k=null,k=function(c){a.update(n?h.now():c);j(k,b)};j(k,b)}else window.setInterval(function(){a.update(Date.now())},16);la.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},getStage:function(){return this._stage},
update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;q.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){try{var b=Pa.getContextWebGL(a,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=
b)if(m.detectSlowDriver(b))null;else return new ta(this._stage,b)}catch(c){}return new ua(a)}};var J=function(a,b){this._value=a;this._changed=null!=b?new ma(b):null};J.__name__=!0;J.prototype={set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new ma);return this._changed}};var fa=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};fa.__name__=!0;
fa.__interfaces__=[ia];fa.prototype={dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)}};var x=function(a){this._head=null!=a?new fa(this,a):null;this._deferredTasks=null};x.__name__=!0;x.prototype={connectImpl:function(a,b){var c=this,d=new fa(this,a);this._head==x.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=this;this._head==x.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):
this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new eb(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=x.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=
null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}}};var ma=function(a){x.call(this,a)};ma.__name__=!0;ma.__super__=x;ma.prototype=v(x.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==x.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;
this.didEmit(c)}});var y=function(a){x.call(this,a)};y.__name__=!0;y.__super__=x;y.prototype=v(x.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==x.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)}});var E=function(a,b){this._behavior=null;J.call(this,a,b)};E.__name__=!0;E.__super__=
J;E.prototype=v(J.prototype,{set__:function(a){this._behavior=null;return J.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(J.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))}});var q=function(){};q.__name__=!0;q.init=function(){q._calledInit||(q._platform.init(),q._calledInit=!0)};var la=function(){};la.__name__=!0;la.info=function(){null};la.__super__=Na;la.prototype=v(Na.prototype,{});v(w.prototype,{get_name:function(){return"SpeedAdjuster_4"},
onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)}});var va=function(){};va.__name__=!0;va.__interfaces__=[ia];var l={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(","),WEBP:["WEBP",0]};l.WEBP.__enum__=l;l.JXR=["JXR",1];l.JXR.__enum__=l;l.PNG=["PNG",2];l.PNG.__enum__=l;l.JPG=["JPG",3];l.JPG.__enum__=l;l.GIF=["GIF",4];l.GIF.__enum__=l;l.DDS=["DDS",5];l.DDS.__enum__=l;l.PVR=["PVR",6];l.PVR.__enum__=l;l.PKM=["PKM",
7];l.PKM.__enum__=l;l.MP3=["MP3",8];l.MP3.__enum__=l;l.M4A=["M4A",9];l.M4A.__enum__=l;l.OPUS=["OPUS",10];l.OPUS.__enum__=l;l.OGG=["OGG",11];l.OGG.__enum__=l;l.WAV=["WAV",12];l.WAV.__enum__=l;l.Data=["Data",13];l.Data.__enum__=l;var t={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(","),Normal:["Normal",0]};t.Normal.__enum__=t;t.Add=["Add",1];t.Add.__enum__=t;t.Multiply=["Multiply",2];t.Multiply.__enum__=t;t.Screen=["Screen",3];t.Screen.__enum__=t;t.Mask=["Mask",4];t.Mask.__enum__=
t;t.Copy=["Copy",5];t.Copy.__enum__=t;var fb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};fb.__name__=!0;var s=function(){this.blendMode=this.scissor=null;var a=this;w.call(this);this._flags|=54;this._localMatrix=new N;var b=function(){a._flags|=24};this.x=new E(0,b);this.y=new E(0,b);this.rotation=new E(0,b);this.scaleX=new E(1,b);this.scaleY=new E(1,b);this.anchorX=new E(0,b);this.anchorY=new E(0,b);this.alpha=new E(1)};s.__name__=!0;s.hitTest=function(a,b,c){var d=a._compMap.Sprite_2;
if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,s._scratchPoint)&&(b=s._scratchPoint.x,c=s._scratchPoint.y);var e=d.scissor;if(null!=e&&!e.contains(b,c))return null}a=s.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};s.render=function(a,b){var c=a._compMap.Sprite_2;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),
e=d.m02,f=d.m12;0!=(c._flags&32)&&(e=Math.round(e),f=Math.round(f));b.transform(d.m00,d.m10,d.m01,d.m11,e,f);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_3;if(null!=d){d=d.occludedScenes;for(e=0;e<d.length;)f=d[e],++e,s.render(f,b)}for(d=a.firstChild;null!=d;)e=d.next,s.render(d,b),d=e;null!=c&&b.restore()};s.hitTestBackwards=function(a,b,c){if(null!=a){var d=s.hitTestBackwards(a.next,b,c);return null!=d?d:s.hitTest(a,b,c)}return null};s.__super__=
w;s.prototype=v(w.prototype,{get_name:function(){return"Sprite_2"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));
return this._localMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);
this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_2;if(null!=b)return b;a=a.parent}return null},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=q._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=
c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_pixelSnapping:function(a){this._flags=Qa.set(this._flags,32,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||
null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)}});var ja=function(a,b,c){s.call(this);this.color=a;this.width=new E(b);this.height=new E(c)};ja.__name__=!0;ja.__super__=s;ja.prototype=
v(s.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){s.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)}});var gb=function(){};gb.__name__=!0;var Y={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};Y.Portrait.__enum__=Y;Y.Landscape=["Landscape",1];Y.Landscape.__enum__=Y;var Ra=
function(){};Ra.__name__=!0;Ra.__interfaces__=[va];var Sa=function(){};Sa.__name__=!0;Sa.__interfaces__=[Ra];var F={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"],Left:["Left",0]};F.Left.__enum__=F;F.Middle=["Middle",1];F.Middle.__enum__=F;F.Right=["Right",2];F.Right.__enum__=F;F.Unknown=function(a){a=["Unknown",3,a];a.__enum__=F;return a};var S={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};S.Default.__enum__=S;S.Button=["Button",1];S.Button.__enum__=
S;S.None=["None",2];S.None.__enum__=S;var Ta=function(){this.init(0,0,0,null)};Ta.__name__=!0;Ta.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d}};var ga={__ename__:!0,__constructs__:["Mouse","Touch"]};ga.Mouse=function(a){a=["Mouse",0,a];a.__enum__=ga;return a};ga.Touch=function(a){a=["Touch",1,a];a.__enum__=ga;return a};var Ua=function(){this.init(0,0,0,null,null)};Ua.__name__=!0;Ua.prototype={init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=
d;this.source=e;this._stopped=!1}};var Va=function(a){this.id=a;this._source=ga.Touch(this)};Va.__name__=!0;Va.prototype={init:function(a,b){this.viewX=a;this.viewY=b}};var Z=function(){};Z.__name__=!0;Z.max=function(a,b){return a>b?a:b};Z.min=function(a,b){return a<b?a:b};var N=function(){this.identity()};N.__name__=!0;N.multiply=function(a,b,c){null==c&&(c=new N);var d=a.m00*b.m00+a.m01*b.m10,e=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=d;c.m01=e;c.m02=f;d=a.m10*b.m00+a.m11*b.m10;
e=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=d;c.m11=e;c.m12=f;return c};N.prototype={set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,
-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transformArray:function(a,b,c){for(var d=0;d<b;){var e=a[d],f=a[d+1];c[d++]=e*this.m00+f*this.m01+this.m02;c[d++]=e*this.m10+f*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},
clone:function(a){null==a&&(a=new N);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a}};var wa=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};wa.__name__=!0;wa.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<
this.height)return!1;return!0},clone:function(a){null==a&&(a=new wa);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height}};var na=function(){};na.__name__=!0;na.__interfaces__=[va];var hb=function(){};hb.__name__=!0;var G=function(a){this._pointer=a;this._source=ga.Mouse(G._sharedEvent);this.down=new y;this.move=new y;this.up=new y;this.scroll=new y;this._y=this._x=0;this._cursor=S.Default;this._buttonStates=
new oa};G.__name__=!0;G.__interfaces__=[hb];G.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,xa.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(G._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(G._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,xa.toButton(c)),this._pointer.submitUp(a,
b,this._source),this.up.emit(G._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;G._sharedEvent.init(G._sharedEvent.id+1,a,b,c)}};var ib=function(){};ib.__name__=!0;var A=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new y;this.move=new y;this.up=new y;this._x=a;this._y=b;this._isDown=c};A.__name__=!0;A.__interfaces__=[ib];A.prototype={submitDown:function(a,
b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],e=s.hitTest(q.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(A._sharedEvent),A._sharedEvent._stopped)return;this.down.emit(A._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],e=s.hitTest(q.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&
d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(A._sharedEvent),A._sharedEvent._stopped)return;this.move.emit(A._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],e=s.hitTest(q.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_2;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(A._sharedEvent),A._sharedEvent._stopped)return;
this.up.emit(A._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;A._sharedEvent.init(A._sharedEvent.id+1,a,b,c,d)}};var pa=function(){this.rootX=this.rootY=0};pa.__name__=!0;pa.__interfaces__=[Sa];pa.__super__=na;pa.prototype=v(na.prototype,{});var Wa=function(){};Wa.__name__=!0;var sa=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new oa;this._points=[];this.down=new y;this.move=new y;this.up=new y};sa.__name__=!0;sa.__interfaces__=[Wa];sa.prototype={submitDown:function(a,
b,c){if(!this._pointMap.exists(a)){var d=new Va(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),Q.remove(this._points,d),this._pointerTouch==
d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))}};var Oa=function(){this.down=new y;this.move=new y;this.up=new y};Oa.__name__=!0;Oa.__interfaces__=[Wa];var ya=function(){};ya.__name__=!0;ya.__interfaces__=[gb];var jb=function(){};jb.__name__=!0;var za=function(){};za.__name__=!0;za.__interfaces__=[jb];var ea=function(){this._tickables=[]};ea.__name__=!0;ea.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_4;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=
b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,ea.updateEntity(c,b),c=d};ea.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}q.volume.update(a);ea.updateEntity(q.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),s.render(q.root,b),a.didRender())}};
var xa=function(){};xa.__name__=!0;xa.toButton=function(a){switch(a){case 0:return F.Left;case 1:return F.Middle;case 2:return F.Right}return F.Unknown(a)};var Aa=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};Aa.__name__=!0;Aa.__interfaces__=[ya];Aa.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e,f)},restore:function(){this._canvasCtx.restore()},fillRect:function(a,b,c,d,e){if(this._firstDraw)this._firstDraw=
!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+R.string(a);this._canvasCtx.fillStyle="#"+R.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,e|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";
break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(){}};var ua=function(a){this.graphics=new Aa(a,!1);this._hasGPU=new J(!0)};ua.__name__=!0;ua.__interfaces__=[za];ua.prototype={get_type:function(){return O.Canvas},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()}};
var ra=function(a,b){G.call(this,a);this._canvas=b};ra.__name__=!0;ra.__super__=G;ra.prototype=v(G.prototype,{});var kb=function(){};kb.__name__=!0;var da=function(a){var b=this;this._canvas=a;this.resize=new Ba;this.scaleFactor=da.computeScaleFactor();1!=this.scaleFactor&&(m.setVendorStyle(this._canvas,"transform-origin","top left"),m.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));m.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){m.callLater($(b,
b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",$(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new J(null);null!=window.orientation&&(window.addEventListener("orientationchange",$(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new J(!1);m.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};da.__name__=!0;da.__interfaces__=[kb];da.computeScaleFactor=
function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=m.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};da.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,
b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";m.callLater(function(){m.hideMobileBrowser();m.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(m.orientation(window.orientation))},
updateFullscreen:function(){this.fullscreen.set__(!0==m.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)}};var m=function(){};m.__name__=!0;m.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};m.hideMobileBrowser=function(){window.scrollTo(1,0)};m.loadExtension=function(a,b){null==b&&(b=window);var c=ka.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+Q.substr(a,1,null),d=0,e=m.VENDOR_PREFIXES;d<e.length;){var f=
e[d];++d;var g=f+c,i=ka.field(b,g);if(null!=i)return{prefix:f,field:g,value:i}}return{prefix:null,field:null,value:null}};m.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=m.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};m.polyfill=function(a,b){null==b&&(b=window);var c=m.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};m.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=m.VENDOR_PREFIXES;d<e.length;){var f=e[d];
++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};m.addVendorListener=function(a,b,c,d){for(var e=0,f=m.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};m.orientation=function(a){switch(a){case -90:case 90:return Y.Landscape;default:return Y.Portrait}};m.detectSlowDriver=function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};
m.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var Xa=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=
null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new Ca(a);this._drawPatternShader=new Da(a);this._fillRectShader=new Ea(a);this.resize(16)};Xa.__name__=!0;Xa.prototype={resizeBackbuffer:function(a,b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},willRender:function(){},
didRender:function(){this.flush()},prepareFillRect:function(a,b,c){return this.prepareQuad(6,a,b,c,this._fillRectShader)},prepareQuad:function(a,b,c,d,e){b!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);e!=this._lastShader&&(this.flush(),this._lastShader=e);if(null!=d||null!=this._lastScissor)if(null==d||null==this._lastScissor||!this._lastScissor.equals(d))this.flush(),this._lastScissor=null!=d?d.clone(this._lastScissor):
null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,
769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);
this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/b.width,a.rootY/b.height,a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,6*this._quads,5123,0);this._dataOffset=this._quads=0}},resize:function(a){this.flush();
if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var d=c++;b[6*d]=4*d;b[6*d+1]=4*d+1;b[6*d+2]=4*d+2;b[6*d+3]=4*d+2;b[6*d+4]=4*d+3;b[6*d+5]=4*d}this._gl.bufferData(34963,b,35044)}},bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));
this._lastRenderTarget=this._currentRenderTarget=a}};var L=function(a,b){this._inverseProjection=this._stateList=null;null==L._scratchQuadArray&&(L._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};L.__name__=!0;L.__interfaces__=[ya];L.prototype={save:function(){var a=this._stateList,b=this._stateList.next;null==b&&(b=new Fa,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=
b},transform:function(a,b,c,d,e,f){var g=this._stateList;L._scratchMatrix.set(a,b,c,d,e,f);N.multiply(g.matrix,L._scratchMatrix,g.matrix)},restore:function(){this._stateList=this._stateList.prev},fillRect:function(a,b,c,d,e){var f=this._stateList,b=this.transformQuad(b,c,d,e),c=(a&16711680)/16711680,d=(a&65280)/65280,a=(a&255)/255,e=f.alpha,f=this._batcher.prepareFillRect(this._renderTarget,f.blendMode,f.scissor),g=this._batcher.data;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=
b[2];g[++f]=b[3];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[4];g[++f]=b[5];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e},multiplyAlpha:function(a){this._stateList.alpha*=a},setBlendMode:function(a){this._stateList.blendMode=a},applyScissor:function(a,b,c,d){var e=this._stateList,f=L._scratchQuadArray;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.matrix.transformArray(f,4,f);this._inverseProjection.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&
(a+=c,c=-c);0>d&&(b+=d,d=-d);e.applyScissor(a,b,c,d)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(a,b){this._stateList=new Fa;var c;c=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/b,-1,c);this._inverseProjection=new N;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},transformQuad:function(a,b,c,d){var c=a+c,d=b+d,e=L._scratchQuadArray;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=
d;e[6]=a;e[7]=d;this._stateList.matrix.transformArray(e,8,e);return e}};var Fa=function(){this.scissor=this.prev=this.next=null;this.matrix=new N;this.alpha=1;this.blendMode=t.Normal};Fa.__name__=!0;Fa.prototype={applyScissor:function(a,b,c,d){if(null!=this.scissor)var e=Z.max(this.scissor.x,a),f=Z.max(this.scissor.y,b),c=Z.min(this.scissor.x+this.scissor.width,a+c),d=Z.min(this.scissor.y+this.scissor.height,b+d),a=e,b=f,c=c-e,d=d-f;else this.scissor=new wa;this.scissor.set(Math.round(a),Math.round(b),
Math.round(c),Math.round(d))}};var ta=function(a,b){var c=this;this._hasGPU=new J(!0);this.gl=b;b.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);a.resize.connect($(this,this.onResize));this.init()};ta.__name__=!0;ta.__interfaces__=[za];ta.prototype={get_type:function(){return O.WebGL},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},
onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,b)},init:function(){this.batcher=new Xa(this.gl);this.graphics=new L(this.batcher,null);this.onResize()}};v(pa.prototype,{});v(na.prototype,{});var D=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+c;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,D.createShader(a,35633,b));a.attachShader(this._program,D.createShader(a,35632,
c));a.linkProgram(this._program);a.useProgram(this._program)};D.__name__=!0;D.createShader=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};D.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){null},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)}};var Da=function(a){D.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};Da.__name__=!0;
Da.__super__=D;Da.prototype=v(D.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},setRegion:function(a,b,c,d){this._gl.uniform4f(this.u_region,a,b,c,d)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)}});
var Ca=function(a){D.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");
this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};Ca.__name__=!0;Ca.__super__=D;Ca.prototype=v(D.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,
8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)}});var Ea=function(a){D.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};
Ea.__name__=!0;Ea.__super__=D;Ea.prototype=v(D.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)}});v(w.prototype,{get_name:function(){return"Director_3"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();
for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},show:function(a){a=a._compMap.Scene_5;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_5;if(null==b||b.opaque)break}this.occludedScenes=
0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())}});v(w.prototype,{get_name:function(){return"Scene_5"}});var O={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"],Stage3D:["Stage3D",0]};O.Stage3D.__enum__=O;O.WebGL=["WebGL",1];O.WebGL.__enum__=O;O.Canvas=["Canvas",2];O.Canvas.__enum__=O;var Qa=function(){};
Qa.__name__=!0;Qa.set=function(a,b,c){return c?a|b:a&~b};var Ba=function(a){x.call(this,a)};Ba.__name__=!0;Ba.__super__=x;Ba.prototype=v(x.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==x.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)}});var eb=function(a){this.next=null;this.fn=
a};eb.__name__=!0;var oa=function(){this.h={}};oa.__name__=!0;oa.__interfaces__=[Ma];oa.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0}};var U=function(){this.h={};this.h.__keys__={}};U.__name__=!0;U.__interfaces__=[Ma];U.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++U.count);this.h[c]=b;this.h.__keys__[c]=a}};var P=function(){this._id=
P.INC;P.INC++;this._edges=[]};P.__name__=!0;P.prototype={addEdge:function(a){-1==this._edges.indexOf(a)&&-1==this._edges.indexOf(a.get_oppositeEdge())&&this._edges.push(a)},get_edges:function(){return this._edges},dispose:function(){this.fromShape=this._edges=null}};var V=function(){this._id=V.INC;V.INC++;this.segments=[]};V.__name__=!0;V.prototype={dispose:function(){for(;0<this.segments.length;)this.segments.pop().dispose();this.segments=null}};var p=function(){this._id=p.INC;p.INC++;this.fromConstraintSegments=
[]};p.__name__=!0;p.prototype={get_isReal:function(){return this._isReal},get_isConstrained:function(){return this._isConstrained},setDatas:function(a,b,c,d,e,f){null==f&&(f=!1);null==e&&(e=!0);this._isConstrained=f;this._isReal=e;this._originVertex=a;this._oppositeEdge=b;this._nextLeftEdge=c;this._leftFace=d},addFromConstraintSegment:function(a){-1==this.fromConstraintSegments.indexOf(a)&&this.fromConstraintSegments.push(a)},removeFromConstraintSegment:function(a){a=this.fromConstraintSegments.indexOf(a);
-1!=a&&this.fromConstraintSegments.splice(a,1)},set_originVertex:function(a){return this._originVertex=a},set_nextLeftEdge:function(a){return this._nextLeftEdge=a},set_leftFace:function(a){return this._leftFace=a},set_isConstrained:function(a){return this._isConstrained=a},dispose:function(){this.fromConstraintSegments=this._leftFace=this._nextLeftEdge=this._oppositeEdge=this._originVertex=null},get_originVertex:function(){return this._originVertex},get_destinationVertex:function(){return this.get_oppositeEdge().get_originVertex()},
get_oppositeEdge:function(){return this._oppositeEdge},get_nextLeftEdge:function(){return this._nextLeftEdge},get_prevLeftEdge:function(){return this._nextLeftEdge.get_nextLeftEdge()},get_nextRightEdge:function(){return this._oppositeEdge.get_nextLeftEdge().get_nextLeftEdge().get_oppositeEdge()},get_prevRightEdge:function(){return this._oppositeEdge.get_nextLeftEdge().get_oppositeEdge()},get_rotLeftEdge:function(){return this._nextLeftEdge.get_nextLeftEdge().get_oppositeEdge()},get_leftFace:function(){return this._leftFace},
get_rightFace:function(){return this._oppositeEdge.get_leftFace()}};var I=function(){this._id=I.INC;I.INC++};I.__name__=!0;I.prototype={get_isReal:function(){return this._isReal},setDatas:function(a,b){null==b&&(b=!0);this._isReal=b;this._edge=a},dispose:function(){this._edge=null},get_edge:function(){return this._edge}};var ha=function(a,b){this.__objectsUpdateInProgress=!1;this._vertices=this._edges=this._faces=this._constraintShapes=this._objects=this.__centerVertex=this.__edgesToCheck=null;this._clipping=
!1;this._width=this._height=0;this._id=ha.INC;ha.INC++;this._width=a;this._height=b;this._clipping=!0;this._vertices=[];this._edges=[];this._faces=[];this._constraintShapes=[];this._objects=[];this.__edgesToCheck=[]};ha.__name__=!0;ha.prototype={get_height:function(){return this._height},get_width:function(){return this._width},set_clipping:function(a){return this._clipping=a},get___constraintShapes:function(){return this._constraintShapes},insertObject:function(a){null!=a.get_constraintShape()&&
this.deleteObject(a);var b=new V,c,d=a.get_coordinates(),e=a.get_matrix();a.updateMatrixFromValues();for(var f,g,i,o,j=0;j<d.length;)f=d[j],g=d[j+1],i=d[j+2],o=d[j+3],c=e.transformX(f,g),f=e.transformY(f,g),g=e.transformX(i,o),i=e.transformY(i,o),c=this.insertConstraintSegment(c,f,g,i),null!=c&&(c.fromShape=b,b.segments.push(c)),j+=4;this._constraintShapes.push(b);a.set_constraintShape(b);this.__objectsUpdateInProgress||this._objects.push(a)},deleteObject:function(a){null!=a.get_constraintShape()&&
(this.deleteConstraintShape(a.get_constraintShape()),a.set_constraintShape(null),this.__objectsUpdateInProgress||this._objects.splice(this._objects.indexOf(a),1))},updateObjects:function(){this.__objectsUpdateInProgress=!0;for(var a=0,b=this._objects.length;a<b;){var c=a++;this._objects[c].get_hasChanged()&&(this.deleteObject(this._objects[c]),this.insertObject(this._objects[c]),this._objects[c].set_hasChanged(!1))}this.__objectsUpdateInProgress=!1},insertConstraintShape:function(a){for(var b=new V,
c=null,d=0;d<a.length;)c=this.insertConstraintSegment(a[d],a[d+1],a[d+2],a[d+3]),null!=c&&(c.fromShape=b,b.segments.push(c)),d+=4;this._constraintShapes.push(b);return b},deleteConstraintShape:function(a){for(var b=0,c=a.segments.length;b<c;){var d=b++;this.deleteConstraintSegment(a.segments[d])}a.dispose();this._constraintShapes.splice(this._constraintShapes.indexOf(a),1)},insertConstraintSegment:function(a,b,c,d){var e=this.findPositionFromBounds(a,b),f=this.findPositionFromBounds(c,d),g=a,i=b,
o=c,j=d;if(this._clipping&&(0!=e||0!=f)){var h=new W;if(0!=e&&0!=f){if(0>=a&&0>=c||a>=this._width&&c>=this._width||0>=b&&0>=d||b>=this._height&&d>=this._height)return null;if(8==e&&4==f||4==e&&8==f)k.intersections2segments(a,b,c,d,0,0,0,this._height,h),g=h.x,i=h.y,k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h),o=h.x,j=h.y;else if(2==e&&6==f||6==e&&2==f)k.intersections2segments(a,b,c,d,0,0,this._width,0,h),g=h.x,i=h.y,k.intersections2segments(a,b,c,d,0,this._height,this._width,
this._height,h),o=h.x,j=h.y;else if(2==e&&8==f||8==e&&2==f)if(k.intersections2segments(a,b,c,d,0,0,this._width,0,h))g=h.x,i=h.y,k.intersections2segments(a,b,c,d,0,0,0,this._height,h),o=h.x,j=h.y;else return null;else if(2==e&&4==f||4==e&&2==f)if(k.intersections2segments(a,b,c,d,0,0,this._width,0,h))g=h.x,i=h.y,k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h),o=h.x,j=h.y;else return null;else if(6==e&&4==f||4==e&&6==f)if(k.intersections2segments(a,b,c,d,0,this._height,this._width,
this._height,h))g=h.x,i=h.y,k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h),o=h.x,j=h.y;else return null;else if(8==e&&6==f||6==e&&8==f)if(k.intersections2segments(a,b,c,d,0,this._height,this._width,this._height,h))g=h.x,i=h.y,k.intersections2segments(a,b,c,d,0,0,0,this._height,h),o=h.x,j=h.y;else return null;else if(f=e=!1,k.intersections2segments(a,b,c,d,0,0,this._width,0,h)&&(g=h.x,i=h.y,e=!0),k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h)&&
(e?(o=h.x,j=h.y,f=!0):(g=h.x,i=h.y,e=!0)),!f&&k.intersections2segments(a,b,c,d,0,this._height,this._width,this._height,h)&&(e?(o=h.x,j=h.y,f=!0):(g=h.x,i=h.y,e=!0)),!f&&k.intersections2segments(a,b,c,d,0,0,0,this._height,h)&&(o=h.x,j=h.y),!e)return null}else 2==e||2==f?k.intersections2segments(a,b,c,d,0,0,this._width,0,h):4==e||4==f?k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h):6==e||6==f?k.intersections2segments(a,b,c,d,0,this._height,this._width,this._height,h):8==e||
8==f?k.intersections2segments(a,b,c,d,0,0,0,this._height,h):k.intersections2segments(a,b,c,d,0,0,this._width,0,h)||k.intersections2segments(a,b,c,d,this._width,0,this._width,this._height,h)||k.intersections2segments(a,b,c,d,0,this._height,this._width,this._height,h)||k.intersections2segments(a,b,c,d,0,0,0,this._height,h),0==e?(g=a,i=b):(g=c,i=d),o=h.x,j=h.y}a=this.insertVertex(g,i);if(null==a)return null;o=this.insertVertex(o,j);if(null==o||a==o)return null;j=new Ga;b=new P;c=new p;d=new p;c.setDatas(a,
d,null,null,!0,!0);d.setDatas(o,c,null,null,!0,!0);var d=[],g=[],i=[],n,h=new W,K;for(n=r.EVertex(a);;)switch(K=!1,n[1]){case 0:e=n[2];for(j.set_fromVertex(e);null!=(f=j.next());){if(f.get_destinationVertex()==o)return f.get_isConstrained()||(f.set_isConstrained(!0),f.get_oppositeEdge().set_isConstrained(!0)),f.addFromConstraintSegment(b),f.get_oppositeEdge().fromConstraintSegments=f.fromConstraintSegments,a.addFromConstraintSegment(b),o.addFromConstraintSegment(b),b.addEdge(f),b;if(1.0E-4>=k.distanceSquaredVertexToEdge(f.get_destinationVertex(),
c)){f.get_isConstrained()||(f.set_isConstrained(!0),f.get_oppositeEdge().set_isConstrained(!0));f.addFromConstraintSegment(b);f.get_oppositeEdge().fromConstraintSegments=f.fromConstraintSegments;a.addFromConstraintSegment(b);b.addEdge(f);a=f.get_destinationVertex();c.set_originVertex(a);n=r.EVertex(a);K=!0;break}}if(K)continue;for(j.set_fromVertex(e);null!=(f=j.next());)if(f=f.get_nextLeftEdge(),k.intersections2edges(f,c,h)){if(f.get_isConstrained()){a=this.splitEdge(f,h.x,h.y);for(j.set_fromVertex(e);null!=
(f=j.next());)if(f.get_destinationVertex()==a){f.set_isConstrained(!0);f.get_oppositeEdge().set_isConstrained(!0);f.addFromConstraintSegment(b);f.get_oppositeEdge().fromConstraintSegments=f.fromConstraintSegments;b.addEdge(f);break}e.addFromConstraintSegment(b);c.set_originVertex(a);n=r.EVertex(a)}else d.push(f),g.unshift(f.get_nextLeftEdge()),i.push(f.get_prevLeftEdge()),f=f.get_oppositeEdge(),n=r.EEdge(f);break}break;case 1:f=n[2];e=f.get_nextLeftEdge();if(e.get_destinationVertex()==o)return g.unshift(e.get_nextLeftEdge()),
i.push(e),f=new p,n=new p,f.setDatas(a,n,null,null,!0,!0),n.setDatas(o,f,null,null,!0,!0),g.push(f),i.push(n),this.insertNewConstrainedEdge(b,f,d,g,i),b;if(1.0E-4>=k.distanceSquaredVertexToEdge(e.get_destinationVertex(),c))g.unshift(e.get_nextLeftEdge()),i.push(e),f=new p,n=new p,f.setDatas(a,n,null,null,!0,!0),n.setDatas(e.get_destinationVertex(),f,null,null,!0,!0),g.push(f),i.push(n),this.insertNewConstrainedEdge(b,f,d,g,i),d.splice(0,d.length),g.splice(0,g.length),i.splice(0,i.length),a=e.get_destinationVertex(),
c.set_originVertex(a),n=r.EVertex(a);else if(k.intersections2edges(e,c,h))if(e.get_isConstrained()){e=this.splitEdge(e,h.x,h.y);for(j.set_fromVertex(e);null!=(f=j.next());)f.get_destinationVertex()==g[0].get_originVertex()&&g.unshift(f),f.get_destinationVertex()==i[i.length-1].get_destinationVertex()&&i.push(f.get_oppositeEdge());f=new p;n=new p;f.setDatas(a,n,null,null,!0,!0);n.setDatas(e,f,null,null,!0,!0);g.push(f);i.push(n);this.insertNewConstrainedEdge(b,f,d,g,i);d.splice(0,d.length);g.splice(0,
g.length);i.splice(0,i.length);a=e;c.set_originVertex(a);n=r.EVertex(a)}else d.push(e),g.unshift(e.get_nextLeftEdge()),f=e.get_oppositeEdge(),n=r.EEdge(f);else if(e=e.get_nextLeftEdge(),k.intersections2edges(e,c,h),e.get_isConstrained()){e=this.splitEdge(e,h.x,h.y);for(j.set_fromVertex(e);null!=(f=j.next());)f.get_destinationVertex()==g[0].get_originVertex()&&g.unshift(f),f.get_destinationVertex()==i[i.length-1].get_destinationVertex()&&i.push(f.get_oppositeEdge());f=new p;n=new p;f.setDatas(a,n,
null,null,!0,!0);n.setDatas(e,f,null,null,!0,!0);g.push(f);i.push(n);this.insertNewConstrainedEdge(b,f,d,g,i);d.splice(0,d.length);g.splice(0,g.length);i.splice(0,i.length);a=e;c.set_originVertex(a);n=r.EVertex(a)}else d.push(e),i.push(e.get_prevLeftEdge()),f=e.get_oppositeEdge(),n=r.EEdge(f)}return b},insertNewConstrainedEdge:function(a,b,c,d,e){this._edges.push(b);this._edges.push(b.get_oppositeEdge());b.addFromConstraintSegment(a);b.get_oppositeEdge().fromConstraintSegments=b.fromConstraintSegments;
a.addEdge(b);b.get_originVertex().addFromConstraintSegment(a);b.get_destinationVertex().addFromConstraintSegment(a);this.untriangulate(c);this.triangulate(d,!0);this.triangulate(e,!0)},deleteConstraintSegment:function(a){for(var b=[],c=null,d,e=0,f=a.get_edges().length;e<f;)c=e++,c=a.get_edges()[c],c.removeFromConstraintSegment(a),0==c.fromConstraintSegments.length&&(c.set_isConstrained(!1),c.get_oppositeEdge().set_isConstrained(!1)),d=c.get_originVertex(),d.removeFromConstraintSegment(a),b.push(d);
d=c.get_destinationVertex();d.removeFromConstraintSegment(a);b.push(d);e=0;for(f=b.length;e<f;)c=e++,this.deleteVertex(b[c]);a.dispose()},insertVertex:function(a,b){if(0>a||0>b||a>this._width||b>this._height)return null;this.__edgesToCheck.splice(0,this.__edgesToCheck.length);var c=k.locatePosition(a,b,this),d=null;switch(c[1]){case 0:d=c[2];break;case 1:d=this.splitEdge(c[2],a,b);break;case 2:d=this.splitFace(c[2],a,b)}this.restoreAsDelaunay();return d},flipEdge:function(a){var b=a.get_oppositeEdge(),
c=new p,d=new p,e=a.get_nextLeftEdge(),f=e.get_nextLeftEdge(),g=b.get_nextLeftEdge(),i=g.get_nextLeftEdge(),o=a.get_originVertex(),j=b.get_originVertex(),h=f.get_originVertex(),n=i.get_originVertex(),k=a.get_leftFace(),C=b.get_leftFace(),B=new I,l=new I;this._edges.push(c);this._edges.push(d);this._faces.push(l);this._faces.push(B);c.setDatas(h,d,i,l,a.get_isReal(),a.get_isConstrained());d.setDatas(n,c,f,B,a.get_isReal(),a.get_isConstrained());l.setDatas(c);B.setDatas(d);j.get_edge()==b&&j.setDatas(e);
o.get_edge()==a&&o.setDatas(g);e.set_nextLeftEdge(c);e.set_leftFace(l);f.set_nextLeftEdge(g);f.set_leftFace(B);g.set_nextLeftEdge(d);g.set_leftFace(B);i.set_nextLeftEdge(e);i.set_leftFace(l);a.dispose();b.dispose();this._edges.splice(this._edges.indexOf(a),1);this._edges.splice(this._edges.indexOf(b),1);k.dispose();C.dispose();this._faces.splice(this._faces.indexOf(k),1);this._faces.splice(this._faces.indexOf(C),1);return d},splitEdge:function(a,b,c){this.__edgesToCheck.splice(0,this.__edgesToCheck.length);
var d=a.get_oppositeEdge(),e=a.get_nextLeftEdge(),f=e.get_nextLeftEdge(),g=d.get_nextLeftEdge(),i=g.get_nextLeftEdge(),o=f.get_originVertex(),j=a.get_originVertex(),h=i.get_originVertex(),n=d.get_originVertex(),K=a.get_leftFace(),C=d.get_leftFace();if(1.0E-4>=(j.get_pos().x-b)*(j.get_pos().x-b)+(j.get_pos().y-c)*(j.get_pos().y-c))return j;if(1.0E-4>=(n.get_pos().x-b)*(n.get_pos().x-b)+(n.get_pos().y-c)*(n.get_pos().y-c))return n;var B=new M,l=new p,m=new p,r=new p,u=new p,z=new p,q=new p,s=new p,
H=new p,v=new I,x=new I,t=new I,w=new I;this._vertices.push(B);this._edges.push(m);this._edges.push(l);this._edges.push(q);this._edges.push(z);this._edges.push(u);this._edges.push(r);this._edges.push(H);this._edges.push(s);this._faces.push(w);this._faces.push(t);this._faces.push(x);this._faces.push(v);B.setDatas(K.get_isReal()?m:u);B.get_pos().x=b;B.get_pos().y=c;k.projectOrthogonaly(B.get_pos(),a);m.setDatas(B,l,f,v,K.get_isReal());l.setDatas(o,m,H,w,K.get_isReal());q.setDatas(B,z,g,x,a.get_isReal(),
a.get_isConstrained());z.setDatas(j,q,m,v,a.get_isReal(),a.get_isConstrained());u.setDatas(B,r,i,t,C.get_isReal());r.setDatas(h,u,q,x,C.get_isReal());H.setDatas(B,s,e,w,a.get_isReal(),a.get_isConstrained());s.setDatas(n,H,u,t,a.get_isReal(),a.get_isConstrained());v.setDatas(m,K.get_isReal());x.setDatas(q,C.get_isReal());t.setDatas(u,C.get_isReal());w.setDatas(H,K.get_isReal());j.get_edge()==a&&j.setDatas(z);n.get_edge()==d&&n.setDatas(s);f.set_nextLeftEdge(z);f.set_leftFace(v);g.set_nextLeftEdge(r);
g.set_leftFace(x);i.set_nextLeftEdge(s);i.set_leftFace(t);e.set_nextLeftEdge(l);e.set_leftFace(w);if(a.get_isConstrained()){b=a.fromConstraintSegments;z.fromConstraintSegments=b.slice(0);q.fromConstraintSegments=z.fromConstraintSegments;H.fromConstraintSegments=b.slice(0);s.fromConstraintSegments=H.fromConstraintSegments;c=0;for(o=a.fromConstraintSegments.length;c<o;)j=c++,j=a.fromConstraintSegments[j].get_edges(),h=j.indexOf(a),-1!=h?(j.splice(h,1),j.splice(h,0,z),j.splice(h+1,0,H)):(h=j.indexOf(d),
j.splice(h,1),j.splice(h,0,s),j.splice(h,0,q));B.set_fromConstraintSegments(b.slice(0))}a.dispose();d.dispose();this._edges.splice(this._edges.indexOf(a),1);this._edges.splice(this._edges.indexOf(d),1);K.dispose();C.dispose();this._faces.splice(this._faces.indexOf(K),1);this._faces.splice(this._faces.indexOf(C),1);this.__centerVertex=B;this.__edgesToCheck.push(f);this.__edgesToCheck.push(g);this.__edgesToCheck.push(i);this.__edgesToCheck.push(e);return B},splitFace:function(a,b,c){this.__edgesToCheck.splice(0,
this.__edgesToCheck.length);var d=a.get_edge(),e=d.get_nextLeftEdge(),f=e.get_nextLeftEdge(),g=d.get_originVertex(),i=e.get_originVertex(),o=f.get_originVertex(),j=new M,h=new p,k=new p,l=new p,C=new p,B=new p,m=new p,q=new I,r=new I,u=new I;this._vertices.push(j);this._edges.push(h);this._edges.push(k);this._edges.push(l);this._edges.push(C);this._edges.push(B);this._edges.push(m);this._faces.push(q);this._faces.push(r);this._faces.push(u);j.setDatas(k);j.get_pos().x=b;j.get_pos().y=c;h.setDatas(g,
k,m,u);k.setDatas(j,h,d,q);l.setDatas(i,C,k,q);C.setDatas(j,l,e,r);B.setDatas(o,m,C,r);m.setDatas(j,B,f,u);q.setDatas(k);r.setDatas(C);u.setDatas(m);d.set_nextLeftEdge(l);d.set_leftFace(q);e.set_nextLeftEdge(B);e.set_leftFace(r);f.set_nextLeftEdge(h);f.set_leftFace(u);a.dispose();this._faces.splice(this._faces.indexOf(a),1);this.__centerVertex=j;this.__edgesToCheck.push(d);this.__edgesToCheck.push(e);this.__edgesToCheck.push(f);return j},restoreAsDelaunay:function(){for(var a;0<this.__edgesToCheck.length;)a=
this.__edgesToCheck.shift(),a.get_isReal()&&!a.get_isConstrained()&&!k.isDelaunay(a)&&(a.get_nextLeftEdge().get_destinationVertex()==this.__centerVertex?(this.__edgesToCheck.push(a.get_nextRightEdge()),this.__edgesToCheck.push(a.get_prevRightEdge())):(this.__edgesToCheck.push(a.get_nextLeftEdge()),this.__edgesToCheck.push(a.get_prevLeftEdge())),this.flipEdge(a))},deleteVertex:function(a){var b,c=new Ga;c.set_fromVertex(a);c.realEdgesOnly=!1;var d,e=[];b=0==a.get_fromConstraintSegments().length;var f=
[],g=!1,i=!1,k=[],j=[];if(b)for(;null!=(d=c.next());)e.push(d),f.push(d.get_nextLeftEdge());else{k=0;for(j=a.get_fromConstraintSegments().length;k<j;)if(g=k++,d=a.get_fromConstraintSegments()[g].get_edges(),d[0].get_originVertex()==a||d[d.length-1].get_destinationVertex()==a)return!1;for(k=0;null!=(d=c.next());)if(e.push(d),d.get_isConstrained()&&(k++,2<k))return!1;var k=[],j=[],h=c=null,n=new p,l=new p;this._edges.push(n);this._edges.push(l);g=0;for(i=e.length;g<i;)d=g++,d=e[d],d.get_isConstrained()?
null==c?(l.setDatas(d.get_destinationVertex(),n,null,null,!0,!0),k.push(n),k.push(d.get_nextLeftEdge()),j.push(l),c=d):null==h&&(n.setDatas(d.get_destinationVertex(),l,null,null,!0,!0),j.push(d.get_nextLeftEdge()),h=d):null==c?j.push(d.get_nextLeftEdge()):null==h?k.push(d.get_nextLeftEdge()):j.push(d.get_nextLeftEdge());g=c.get_leftFace().get_isReal();i=h.get_leftFace().get_isReal();n.fromConstraintSegments=c.fromConstraintSegments.slice(0);l.fromConstraintSegments=n.fromConstraintSegments;for(var C,
m=0,q=a.get_fromConstraintSegments().length;m<q;)d=m++,d=a.get_fromConstraintSegments()[d].get_edges(),C=d.indexOf(c),-1!=C?(d.splice(C-1,2),d.splice(C-1,0,n)):(C=d.indexOf(h)-1,d.splice(C,2),d.splice(C,0,l))}c=0;for(h=e.length;c<h;)n=c++,d=e[n],n=d.get_leftFace(),this._faces.splice(this._faces.indexOf(n),1),n.dispose(),d.get_destinationVertex().set_edge(d.get_nextLeftEdge()),this._edges.splice(this._edges.indexOf(d.get_oppositeEdge()),1),d.get_oppositeEdge().dispose(),this._edges.splice(this._edges.indexOf(d),
1),d.dispose();this._vertices.splice(this._vertices.indexOf(a),1);a.dispose();b?this.triangulate(f,!0):(this.triangulate(k,g),this.triangulate(j,i));return!0},untriangulate:function(a){for(var b=new U,c,d=0,e=a.length;d<e;){var f=d++;c=a[f];if(null==function(){var a=c.get_originVertex();return b.h[a.__id__]}(this)){c.get_originVertex().set_edge(c.get_prevLeftEdge().get_oppositeEdge());var g=c.get_originVertex();b.set(g,!0);!0}null==function(){var a=c.get_destinationVertex();return b.h[a.__id__]}(this)&&
(c.get_destinationVertex().set_edge(c.get_nextLeftEdge()),g=c.get_destinationVertex(),b.set(g,!0),!0);this._faces.splice(this._faces.indexOf(c.get_leftFace()),1);c.get_leftFace().dispose();f==a.length-1&&(this._faces.splice(this._faces.indexOf(c.get_rightFace()),1),c.get_rightFace().dispose())}d=0;for(e=a.length;d<e;)f=d++,c=a[f],this._edges.splice(this._edges.indexOf(c.get_oppositeEdge()),1),this._edges.splice(this._edges.indexOf(c),1),c.get_oppositeEdge().dispose(),c.dispose()},triangulate:function(a,
b){if(!(2>a.length))if(2==a.length)Ha.trace("  - edge0: "+a[0].get_originVertex().get_id()+" -> "+a[0].get_destinationVertex().get_id(),{fileName:"Mesh.hx",lineNumber:1404,className:"hxDaedalus.data.Mesh",methodName:"triangulate"}),Ha.trace("  - edge1: "+a[1].get_originVertex().get_id()+" -> "+a[1].get_destinationVertex().get_id(),{fileName:"Mesh.hx",lineNumber:1405,className:"hxDaedalus.data.Mesh",methodName:"triangulate"});else if(3==a.length){var c=new I;c.setDatas(a[0],b);this._faces.push(c);
a[0].set_leftFace(c);a[1].set_leftFace(c);a[2].set_leftFace(c);a[0].set_nextLeftEdge(a[1]);a[1].set_nextLeftEdge(a[2]);a[2].set_nextLeftEdge(a[0])}else{for(var c=a[0],d=c.get_originVertex(),e=c.get_destinationVertex(),f,g,i=new W,o=!1,j=0,h=2,n=a.length;h<n;){var l=h++;f=a[l].get_originVertex();if(1==k.getRelativePosition2(f.get_pos().x,f.get_pos().y,c)){j=l;o=!0;k.getCircumcenter(d.get_pos().x,d.get_pos().y,e.get_pos().x,e.get_pos().y,f.get_pos().x,f.get_pos().y,i);f=(d.get_pos().x-i.x)*(d.get_pos().x-
i.x)+(d.get_pos().y-i.y)*(d.get_pos().y-i.y);f-=1.0E-4;for(var m=2,B=a.length;m<B;)if(g=m++,g!=l&&(g=a[g].get_originVertex(),g=(g.get_pos().x-i.x)*(g.get_pos().x-i.x)+(g.get_pos().y-i.y)*(g.get_pos().y-i.y),g<f)){o=!1;break}if(o)break}}if(!o){j="";e=0;for(i=a.length;e<i;)o=e++,j+=a[o].get_originVertex().get_pos().x+" , ",j+=a[o].get_originVertex().get_pos().y+" , ",j+=a[o].get_destinationVertex().get_pos().x+" , ",j+=a[o].get_destinationVertex().get_pos().y+" , ";j=2}i=e=o=null;j<a.length-1&&(o=new p,
e=new p,this._edges.push(o),this._edges.push(e),o.setDatas(d,e,null,null,b,!1),e.setDatas(a[j].get_originVertex(),o,null,null,b,!1),d=a.slice(j),d.push(o),this.triangulate(d,b));2<j&&(i=new p,d=new p,this._edges.push(i),this._edges.push(d),i.setDatas(a[1].get_originVertex(),d,null,null,b,!1),d.setDatas(a[j].get_originVertex(),i,null,null,b,!1),o=a.slice(1,j),o.push(d),this.triangulate(o,b));this.triangulate(2==j?[c,a[1],e]:j==a.length-1?[c,i,a[j]]:[c,i,e],b)}},findPositionFromBounds:function(a,b){return 0>=
a?0>=b?1:b>=this._height?7:8:a>=this._width?0>=b?3:b>=this._height?5:4:0>=b?2:b>=this._height?6:0},traverse:function(a,b){var c,d;d=new Ya;d.set_fromMesh(this);var e;e=new Za;for(var f=new U;null!=(c=d.next());)if(f.set(c,!0),!0,this.vertexIsInsideAABB(c,this)){a(c);for(e.set_fromVertex(c);null!=(c=e.next());){var g=c.get_originVertex();f.h[g.__id__]||b(c)}}},vertexIsInsideAABB:function(a,b){return 0>a.get_pos().x||a.get_pos().x>b.get_width()||0>a.get_pos().y||a.get_pos().y>b.get_height()?!1:!0}};
var aa=function(){this._id=aa.INC;aa.INC++;this._pivotY=this._pivotX=0;this._matrix=new $a;this._scaleY=this._scaleX=1;this._y=this._x=this._rotation=0;this._coordinates=[];this._hasChanged=!1};aa.__name__=!0;aa.prototype={updateMatrixFromValues:function(){this._matrix.identity();this._matrix.translate(-this._pivotX,-this._pivotY);this._matrix.scale(this._scaleX,this._scaleY);this._matrix.rotate(this._rotation);this._matrix.translate(this._x,this._y)},set_scaleX:function(a){this._scaleX!=a&&(this._scaleX=
a,this._hasChanged=!0);return a},set_scaleY:function(a){this._scaleY!=a&&(this._scaleY=a,this._hasChanged=!0);return a},get_rotation:function(){return this._rotation},set_rotation:function(a){this._rotation!=a&&(this._rotation=a,this._hasChanged=!0);return a},set_x:function(a){this._x!=a&&(this._x=a,this._hasChanged=!0);return a},set_y:function(a){this._y!=a&&(this._y=a,this._hasChanged=!0);return a},get_matrix:function(){return this._matrix},get_coordinates:function(){return this._coordinates},set_coordinates:function(a){this._coordinates=
a;this._hasChanged=!0;return a},get_constraintShape:function(){return this._constraintShape},set_constraintShape:function(a){this._constraintShape=a;this._hasChanged=!0;return a},get_hasChanged:function(){return this._hasChanged},set_hasChanged:function(a){return this._hasChanged=a}};var M=function(){this._id=M.INC;M.INC++;this._pos=new W;this._fromConstraintSegments=[]};M.__name__=!0;M.prototype={get_id:function(){return this._id},get_isReal:function(){return this._isReal},get_pos:function(){return this._pos},
get_fromConstraintSegments:function(){return this._fromConstraintSegments},set_fromConstraintSegments:function(a){return this._fromConstraintSegments=a},setDatas:function(a,b){null==b&&(b=!0);this._isReal=b;this._edge=a},addFromConstraintSegment:function(a){-1==this._fromConstraintSegments.indexOf(a)&&this._fromConstraintSegments.push(a)},removeFromConstraintSegment:function(a){a=this._fromConstraintSegments.indexOf(a);-1!=a&&this._fromConstraintSegments.splice(a,1)},dispose:function(){this._fromConstraintSegments=
this._edge=this._pos=null},get_edge:function(){return this._edge},set_edge:function(a){return this._edge=a}};var r={__ename__:!0,__constructs__:["EVertex","EEdge","EFace","ENull"]};r.EVertex=function(a){a=["EVertex",0,a];a.__enum__=r;return a};r.EEdge=function(a){a=["EEdge",1,a];a.__enum__=r;return a};r.EFace=function(a){a=["EFace",2,a];a.__enum__=r;return a};r.ENull=["ENull",3];r.ENull.__enum__=r;var W=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};W.__name__=!0;W.prototype={setXY:function(a,
b){this.x=a;this.y=b}};var k=function(){};k.__name__=!0;k.locatePosition=function(a,b,c){null==k._randGen&&(k._randGen=new ab);k._randGen.set_seed(10*a+4*b|0);k.__samples.splice(0,k.__samples.length);var d=R["int"](Math.pow(c._vertices.length,0.3333333333333333));k._randGen.rangeMin=0;k._randGen.rangeMax=c._vertices.length-1;for(var e=0;e<d;){e++;var f=k._randGen.next();k.__samples.push(c._vertices[f])}for(var g,i,e=Math.POSITIVE_INFINITY,c=null,f=0;f<d;)g=f++,g=k.__samples[g],i=g.get_pos(),i=(i.x-
a)*(i.x-a)+(i.y-b)*(i.y-b),i<e&&(e=i,c=g);var o,d=new bb;d.set_fromVertex(c);o=d.next();var d=new U,e=new cb,j=r.ENull;for(g=0;d.h[o.__id__]||function(){var c;switch((j=k.isInFace(a,b,o))[1]){case 3:c=!0;break;default:c=!1}return c}(this);){d.h[o.__id__];g++;50==g&&null;e.set_fromFace(o);do{c=e.next();if(null==c)return r.ENull;f=k.getRelativePosition(a,b,c)}while(1==f||0==f);o=c.get_rightFace()}return j};k.getDirection=function(a,b,c,d,e,f){a=(e-a)*(d-b)+(f-b)*(-c+a);return 0==a?0:0<a?1:-1};k.getDirection2=
function(a,b,c,d,e,f){var g=(e-a)*(d-b)+(f-b)*(-c+a);if(0!=g)if(0<g){if(!(1.0E-4>=k.distanceSquaredPointToLine(e,f,a,b,c,d)))return 1}else if(!(1.0E-4>=k.distanceSquaredPointToLine(e,f,a,b,c,d)))return-1;return 0};k.getRelativePosition=function(a,b,c){return k.getDirection(c.get_originVertex().get_pos().x,c.get_originVertex().get_pos().y,c.get_destinationVertex().get_pos().x,c.get_destinationVertex().get_pos().y,a,b)};k.getRelativePosition2=function(a,b,c){return k.getDirection2(c.get_originVertex().get_pos().x,
c.get_originVertex().get_pos().y,c.get_destinationVertex().get_pos().x,c.get_destinationVertex().get_pos().y,a,b)};k.isInFace=function(a,b,c){var d=r.ENull,e=c.get_edge(),f=e.get_nextLeftEdge(),g=f.get_nextLeftEdge();if(0<=k.getRelativePosition(a,b,e)&&0<=k.getRelativePosition(a,b,f)&&0<=k.getRelativePosition(a,b,g))var d=e.get_originVertex(),i=f.get_originVertex(),o=g.get_originVertex(),j=d.get_pos().x,h=d.get_pos().y,n=i.get_pos().x,l=i.get_pos().y,m=o.get_pos().x,p=o.get_pos().y,q=(a-j)*(n-j)+
(b-h)*(l-h),s=(a-n)*(m-n)+(b-l)*(p-l),v=(a-m)*(j-m)+(b-p)*(h-p),s=1.0E-4>=(n-a)*(n-a)+(l-b)*(l-b)-s*s/((m-n)*(m-n)+(p-l)*(p-l)),m=1.0E-4>=(m-a)*(m-a)+(p-b)*(p-b)-v*v/((j-m)*(j-m)+(h-p)*(h-p)),d=1.0E-4>=(j-a)*(j-a)+(h-b)*(h-b)-q*q/((n-j)*(n-j)+(l-h)*(l-h))?m?r.EVertex(d):s?r.EVertex(i):r.EEdge(e):s?m?r.EVertex(o):r.EEdge(f):m?r.EEdge(g):r.EFace(c);return d};k.isDelaunay=function(a){var b=a.get_originVertex(),c=a.get_destinationVertex(),d=a.get_nextLeftEdge().get_destinationVertex(),a=a.get_nextRightEdge().get_destinationVertex();
k.getCircumcenter(d.get_pos().x,d.get_pos().y,b.get_pos().x,b.get_pos().y,c.get_pos().x,c.get_pos().y,k.__circumcenter);b=(d.get_pos().x-k.__circumcenter.x)*(d.get_pos().x-k.__circumcenter.x)+(d.get_pos().y-k.__circumcenter.y)*(d.get_pos().y-k.__circumcenter.y);return(a.get_pos().x-k.__circumcenter.x)*(a.get_pos().x-k.__circumcenter.x)+(a.get_pos().y-k.__circumcenter.y)*(a.get_pos().y-k.__circumcenter.y)>=b};k.getCircumcenter=function(a,b,c,d,e,f,g){null==g&&(g=new W);var i=(a+c)/2,k=(b+d)/2,e=(i*
(a-e)+(k-(b+f)/2)*(b-f)+(a+e)/2*(e-a))/(a*(f-d)+c*(b-f)+e*(d-b));g.x=i+e*(d-b);g.y=k-e*(c-a);return g};k.intersections2segments=function(a,b,c,d,e,f,g,i,k,j,h){null==h&&(h=!1);var n=0,l=0,m,p=(a-c)*(f-i)+(d-b)*(e-g);if(0==p)m=!1;else if(m=!0,!h||null!=k||null!=j)n=(a*(f-i)+b*(g-e)+e*i-f*g)/p,l=(a*(f-d)+b*(c-e)-c*f+d*e)/p,!h&&!(0<=n&&1>=n&&0<=l&&1>=l)&&(m=!1);m&&(null!=k&&(k.x=a+n*(c-a),k.y=b+n*(d-b)),null!=j&&(j.push(n),j.push(l)));return m};k.intersections2edges=function(a,b,c,d,e){null==e&&(e=!1);
return k.intersections2segments(a.get_originVertex().get_pos().x,a.get_originVertex().get_pos().y,a.get_destinationVertex().get_pos().x,a.get_destinationVertex().get_pos().y,b.get_originVertex().get_pos().x,b.get_originVertex().get_pos().y,b.get_destinationVertex().get_pos().x,b.get_destinationVertex().get_pos().y,c,d,e)};k.projectOrthogonaly=function(a,b){var c=b.get_originVertex().get_pos().x,d=b.get_originVertex().get_pos().y,e=b.get_destinationVertex().get_pos().x,f=b.get_destinationVertex().get_pos().y,
g=a.x,i=a.y,g=(c*c-c*e-c*g+d*d-d*f-d*i+e*g+f*i)/(c*c-2*c*e+d*d-2*d*f+e*e+f*f);a.x=c+g*(e-c);a.y=d+g*(f-d)};k.distanceSquaredPointToLine=function(a,b,c,d,e,f){var g=(a-c)*(e-c)+(b-d)*(f-d);return(c-a)*(c-a)+(d-b)*(d-b)-g*g/((e-c)*(e-c)+(f-d)*(f-d))};k.distanceSquaredPointToSegment=function(a,b,c,d,e,f){var g=(e-c)*(e-c)+(f-d)*(f-d),i=((a-c)*(e-c)+(b-d)*(f-d))/g;return 0>i?(a-c)*(a-c)+(b-d)*(b-d):1>=i?(c-a)*(c-a)+(d-b)*(d-b)-i*i*g:(a-e)*(a-e)+(b-f)*(b-f)};k.distanceSquaredVertexToEdge=function(a,b){return k.distanceSquaredPointToSegment(a.get_pos().x,
a.get_pos().y,b.get_originVertex().get_pos().x,b.get_originVertex().get_pos().y,b.get_destinationVertex().get_pos().x,b.get_destinationVertex().get_pos().y)};var $a=function(a,b,c,d,e,f){null==f&&(f=0);null==e&&(e=0);null==d&&(d=1);null==c&&(c=0);null==b&&(b=0);null==a&&(a=1);this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f};$a.__name__=!0;$a.prototype={identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.f=this.e=0},translate:function(a,b){this.e+=a;this.f+=b},scale:function(a,b){this.a*=
a;this.b*=b;this.c*=a;this.d*=b;this.e*=a;this.f*=b},rotate:function(a){var b=Math.cos(a),a=Math.sin(a),c=this.a*a+this.b*b,d=this.c*b+this.d*-a,e=this.c*a+this.d*b,f=this.e*b+this.f*-a,g=this.e*a+this.f*b;this.a=this.a*b+this.b*-a;this.b=c;this.c=d;this.d=e;this.e=f;this.f=g},transformX:function(a,b){return this.a*a+this.c*b+this.e},transformY:function(a,b){return this.b*a+this.d*b+this.f}};var ab=function(a,b,c){null==c&&(c=1);null==b&&(b=0);null==a&&(a=1234);this._originalSeed=this._currSeed=a;
this.rangeMin=b;this.rangeMax=c;this._numIter=0};ab.__name__=!0;ab.prototype={set_seed:function(a){return this._originalSeed=this._currSeed=a},reset:function(){this._currSeed=this._originalSeed;this._numIter=0},next:function(){var a=1*this._currSeed;for(this._tempString=R.string(a*a);8>this._tempString.length;)this._tempString="0"+this._tempString;this._currSeed=R.parseInt(Q.substr(this._tempString,1,5));a=Math.round(this.rangeMin+this._currSeed/99999*(this.rangeMax-this.rangeMin));0==this._currSeed&&
(this._currSeed=this._originalSeed+this._numIter);this._numIter++;200==this._numIter&&this.reset();return a}};var Ha=function(){};Ha.__name__=!0;Ha.trace=function(){};var Ka=function(){};Ka.__name__=!0;Ka.buildRectangle=function(a,b){var c=new M,d=new M,e=new M,f=new M,g=new p,i=new p,k=new p,j=new p,h=new p,l=new p,m=new p,q=new p,r=new p,s=new p,v=new p,x=new p,u=new I,z=new I,t=new I,w=new I,H=new V,y=new P,A=new P,E=new P,F=new P,D=new ha(a,b);c.get_pos().setXY(-10,-10);d.get_pos().setXY(a+10,
-10);e.get_pos().setXY(a+10,b+10);f.get_pos().setXY(-10,b+10);c.setDatas(g);d.setDatas(k);e.setDatas(h);f.setDatas(m);g.setDatas(c,i,k,w,!0,!0);i.setDatas(d,g,q,u,!0,!0);k.setDatas(d,j,x,w,!0,!0);j.setDatas(e,k,r,z,!0,!0);h.setDatas(e,l,m,t,!0,!0);l.setDatas(f,h,j,z,!0,!0);m.setDatas(f,q,v,t,!0,!0);q.setDatas(c,m,s,u,!0,!0);r.setDatas(d,s,l,z,!0,!1);s.setDatas(f,r,i,u,!0,!1);v.setDatas(c,x,h,t,!1,!1);x.setDatas(e,v,g,w,!1,!1);u.setDatas(s);z.setDatas(r);t.setDatas(h,!1);w.setDatas(k,!1);c.set_fromConstraintSegments([y,
F]);d.set_fromConstraintSegments([y,A]);e.set_fromConstraintSegments([A,E]);f.set_fromConstraintSegments([E,F]);g.fromConstraintSegments.push(y);i.fromConstraintSegments.push(y);k.fromConstraintSegments.push(A);j.fromConstraintSegments.push(A);h.fromConstraintSegments.push(E);l.fromConstraintSegments.push(E);m.fromConstraintSegments.push(F);q.fromConstraintSegments.push(F);y.get_edges().push(g);A.get_edges().push(k);E.get_edges().push(h);F.get_edges().push(m);y.fromShape=H;A.fromShape=H;E.fromShape=
H;F.fromShape=H;for(var G=0,y=[y,A,E,F];G<y.length;)A=y[G],++G,H.segments.push(A);G=0;for(c=[c,d,e,f];G<c.length;)d=c[G],++G,D._vertices.push(d);c=0;for(g=[g,i,k,j,h,l,m,q,r,s,v,x];c<g.length;)i=g[c],++c,D._edges.push(i);g=0;for(u=[u,z,t,w];g<u.length;)z=u[g],++g,D._faces.push(z);D.get___constraintShapes().push(H);H=[];u=0;for(z=[0,0,a,0];u<z.length;)t=z[u],++u,H.push(t);u=0;for(z=[a,0,a,b];u<z.length;)t=z[u],++u,H.push(t);u=0;for(z=[a,b,0,b];u<z.length;)t=z[u],++u,H.push(t);u=0;for(z=[0,b,0,0];u<
z.length;)t=z[u],++u,H.push(t);D.set_clipping(!1);D.insertConstraintShape(H);D.set_clipping(!0);return D};var lb=function(){};lb.__name__=!0;var qa=function(a,b,c){null==c&&(c=1);null==b&&(b=0);null==a&&(a=1);this._prevX=this._prevY=0;w.call(this);this.lineStyle(a,b,c);this._container=(new T).add(new s)};qa.__name__=!0;qa.__super__=w;qa.prototype=v(w.prototype,{get_name:function(){return"GraphicsComponent_1"},onStart:function(){this.owner.addChild(this._container)},lineStyle:function(a,b,c){null==
c&&(c=1);null==b&&(b=0);null==a&&(a=1);this._color=b;this._thickness=a;this._alpha=c},drawCircle:function(a,b,c,d){null==d&&(d=45);for(var e=0,f=d+1;e<f;){var g=e++,i=6.283185307179586*(g/d);0==g?this.moveTo(a+Math.cos(i)*c,b+Math.sin(i)*c):this.lineTo(a+Math.cos(i)*c,b+Math.sin(i)*c)}},lineTo:function(a,b){var c=this._prevX-a,d=this._prevY-b,e=Math.sqrt(c*c+d*d),c=Math.atan2(d,c),e=(new ja(this._color,e,this._thickness)).setRotation(180*c/3.141592653589793).setXY(a,b).setAnchor(0,this._thickness/
2).setAlpha(this._alpha);e.set_pixelSnapping(!1);this._container.addChild((new T).add(e));this._prevX=a;this._prevY=b},moveTo:function(a,b){this._prevX=a;this._prevY=b},clear:function(){this._container.disposeChildren();this._prevY=this._prevX=0},dispose:function(){this._container.dispose();this._container=null;w.prototype.dispose.call(this)}});var Ia=function(a){this.fillStyles=[];this.fillStyles.push({color:a._color,alpha:a._alpha});this.graphics=a};Ia.__name__=!0;Ia.__interfaces__=[lb];Ia.prototype=
{beginFill:function(a,b){null==b&&(b=1);this.fillStyles.push({color:this.graphics._color,alpha:this.graphics._alpha});this.fillStyles.push({color:a,alpha:b})},endFill:function(){this.fillStyles.pop();var a=this.fillStyles.pop();this.graphics._color=a.color;this.graphics._alpha=a.alpha},drawCircle:function(a,b,c){if(0<this.fillStyles.length){var d=this.fillStyles[this.fillStyles.length-1];this.graphics._color=d.color;this.graphics._alpha=d.alpha}this.graphics.drawCircle(a,b,c)}};var cb=function(){};
cb.__name__=!0;cb.prototype={set_fromFace:function(a){this._fromFace=a;this._nextEdge=this._fromFace.get_edge();return a},next:function(){null!=this._nextEdge?(this._resultEdge=this._nextEdge,this._nextEdge=this._nextEdge.get_nextLeftEdge(),this._nextEdge==this._fromFace.get_edge()&&(this._nextEdge=null)):this._resultEdge=null;return this._resultEdge}};var Ya=function(){};Ya.__name__=!0;Ya.prototype={set_fromMesh:function(a){this._fromMesh=a;this._currIndex=0;return a},next:function(){do if(this._currIndex<
this._fromMesh._vertices.length)this._resultVertex=this._fromMesh._vertices[this._currIndex],this._currIndex++;else{this._resultVertex=null;break}while(!this._resultVertex.get_isReal());return this._resultVertex}};var bb=function(){};bb.__name__=!0;bb.prototype={set_fromVertex:function(a){this._fromVertex=a;this._nextEdge=this._fromVertex.get_edge();return a},next:function(){if(null!=this._nextEdge){do if(this._resultFace=this._nextEdge.get_leftFace(),this._nextEdge=this._nextEdge.get_rotLeftEdge(),
this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;this._resultFace.get_isReal()||(this._resultFace=null);break}while(!this._resultFace.get_isReal())}else this._resultFace=null;return this._resultFace}};var Za=function(){};Za.__name__=!0;Za.prototype={set_fromVertex:function(a){this._fromVertex=a;for(this._nextEdge=this._fromVertex.get_edge();!this._nextEdge.get_isReal();)this._nextEdge=this._nextEdge.get_rotLeftEdge();return a},next:function(){if(null!=this._nextEdge){this._resultEdge=
this._nextEdge.get_oppositeEdge();do if(this._nextEdge=this._nextEdge.get_rotLeftEdge(),this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;break}while(!this._nextEdge.get_isReal())}else this._resultEdge=null;return this._resultEdge}};var Ga=function(){this.realEdgesOnly=!0};Ga.__name__=!0;Ga.prototype={set_fromVertex:function(a){this._fromVertex=a;for(this._nextEdge=this._fromVertex.get_edge();this.realEdgesOnly&&!this._nextEdge.get_isReal();)this._nextEdge=this._nextEdge.get_rotLeftEdge();
return a},next:function(){if(null!=this._nextEdge){this._resultEdge=this._nextEdge;do if(this._nextEdge=this._nextEdge.get_rotLeftEdge(),this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;break}while(this.realEdgesOnly&&!this._nextEdge.get_isReal())}else this._resultEdge=null;return this._resultEdge}};var La=function(a){this.verticesAlpha=0.25;this.verticesRadius=0.5;this.verticesColor=255;this.constraintsAlpha=1;this.constraintsWidth=2;this.constraintsColor=16711680;this.edgesAlpha=
0.25;this.edgesWidth=1;this.edgesColor=10066329;this.graphics=new Ia(a)};La.__name__=!0;La.prototype={drawVertex:function(a){this.graphics.graphics.lineStyle(this.verticesRadius,this.verticesColor,this.verticesAlpha);this.graphics.beginFill(this.verticesColor,this.verticesAlpha);this.graphics.drawCircle(a.get_pos().x,a.get_pos().y,this.verticesRadius);this.graphics.endFill()},drawEdge:function(a){a.get_isConstrained()?this.graphics.graphics.lineStyle(this.constraintsWidth,this.constraintsColor,this.constraintsAlpha):
this.graphics.graphics.lineStyle(this.edgesWidth,this.edgesColor,this.edgesAlpha);this.graphics.graphics.moveTo(a.get_originVertex().get_pos().x,a.get_originVertex().get_pos().y);this.graphics.graphics.lineTo(a.get_destinationVertex().get_pos().x,a.get_destinationVertex().get_pos().y)},drawMesh:function(a,b){null==b&&(b=!1);b&&this.graphics.graphics.clear();a.traverse($(this,this.drawVertex),$(this,this.drawEdge))}};var X=function(){};X.__name__=!0;X.__string_rec=function(a,b){if(null==a)return"null";
if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+X.__string_rec(a[f],b)):c+X.__string_rec(a[f],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)f=e++,d+=(0<f?",":"")+X.__string_rec(a[f],b);return d+"]"}try{d=a.toString}catch(g){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),
"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+X.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};var Pa=function(){};Pa.__name__=!0;Pa.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<
d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var mb=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.__name__=!0;Array.__name__=!0;Date.__name__=["Date"];ca.instance=new ca;x.DISPATCHING_SENTINEL=new fa(null,null);q.root=new T;q.uncaughtError=new y;q.hidden=new J(!1);q.volume=new E(1);q._platform=ca.instance;
q._calledInit=!1;s._scratchPoint=new fb;G._sharedEvent=new Ta;A._sharedEvent=new Ua;m.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];m.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new Ja("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);L._scratchMatrix=new N;U.count=0;P.INC=0;V.INC=0;p.INC=0;I.INC=0;ha.INC=0;aa.INC=0;M.INC=0;k.__samples=[];k.__circumcenter=new W;ba.main()})();
